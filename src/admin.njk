---
title: Admin
layout: base.njk
---

{% block extraCss %}
<style>
  .admin-header { 
    --center-color: #f97316; 
  }
  
  .admin-tabs .tab.active {
    color: #f97316;
    border-bottom-color: #f97316;
  }
  
  .admin-btn {
    background: #f97316;
  }
  
  .user-list, .student-list {
    max-height: 500px;
    overflow-y: auto;
  }
  
  .list-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 16px;
    background: var(--color-card);
    border-radius: 8px;
    margin-bottom: 8px;
  }
  
  .list-item-info {
    flex: 1;
  }
  
  .list-item-name {
    font-weight: 500;
  }
  
  .list-item-meta {
    font-size: 0.85rem;
    color: var(--color-text-muted);
  }
  
  .list-item-actions {
    display: flex;
    gap: 8px;
  }
  
  .list-item-actions button {
    padding: 6px 12px;
    font-size: 0.85rem;
    border-radius: 6px;
    cursor: pointer;
    border: none;
  }
  
  .btn-edit {
    background: var(--color-card-hover);
    color: var(--color-text);
  }
  
  .btn-delete {
    background: rgba(239, 68, 68, 0.2);
    color: #ef4444;
  }
</style>
{% endblock %}

{# Admin Login #}
<div class="login-view" id="loginView">
  <div class="login-card">
    <div class="login-header">
      <div class="login-icon">âš™ï¸</div>
      <h1 class="login-title">Admin</h1>
      <p class="login-subtitle" style="color: #f97316;">FjÃ¶rlistinn KerfisstjÃ³rnun</p>
    </div>

    <form id="loginForm">
      <div class="form-group">
        <label class="form-label">Admin lykilorÃ°</label>
        <input type="password" class="form-input" id="adminPassword" placeholder="SlÃ¡Ã°u inn lykilorÃ°..." required />
      </div>

      <button type="submit" class="btn" style="background: #f97316;">SkrÃ¡ inn</button>
    </form>

    <div class="login-error" id="loginError">
      Rangt lykilorÃ°
    </div>

    <div class="login-footer">
      <a href="index.html">â† Til baka Ã¡ forsÃ­Ã°u</a>
    </div>
  </div>
</div>

{# Admin Main View #}
<div class="main-view" id="mainView">
  <header class="header admin-header">
    <div class="header-left">
      <div class="header-center-name" style="color: #f97316;">âš™ï¸ Admin</div>
    </div>
    <div class="header-right">
      <button class="logout-btn" onclick="adminLogout()">ÃštskrÃ¡</button>
    </div>
  </header>
  
  <div class="tabs-container admin-tabs">
    <div class="tabs">
      <button class="tab active" data-tab="yfirlit">ğŸ“Š Yfirlit</button>
      <button class="tab" data-tab="notendur">ğŸ‘¥ Notendur</button>
      <button class="tab" data-tab="nemendur">ğŸ“ Nemendur</button>
      <button class="tab" data-tab="stillingar">âš™ï¸ Stillingar</button>
      <button class="tab" data-tab="export">ğŸ“¤ Export</button>
    </div>
  </div>
  
  <div class="content">
    {# Tab: Yfirlit #}
    <div class="tab-content active" id="tab-yfirlit">
      <div class="stats-grid" id="adminStatsGrid">
        <div class="stat-card">
          <div class="stat-value" id="totalStudents">-</div>
          <div class="stat-label">Nemendur</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="totalStaff">-</div>
          <div class="stat-label">StarfsfÃ³lk</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="totalAttendance">-</div>
          <div class="stat-label">MÃ¦tingar (Ã¾etta Ã¡r)</div>
        </div>
      </div>
      
      <div class="card">
        <div class="section-title">ğŸ“Š Yfirlit yfir allar stÃ¶Ã°var</div>
        <div id="centersOverview">
          <div class="loading"><div class="loading-spinner"></div><p>SÃ¦ki gÃ¶gn...</p></div>
        </div>
      </div>
    </div>
    
    {# Tab: Notendur #}
    <div class="tab-content" id="tab-notendur">
      <div class="section-title">ğŸ‘¥ NotendastjÃ³rnun</div>
      
      <button class="btn" style="background: #f97316; margin-bottom: 20px;" onclick="showAddUserModal()">+ BÃ¦ta viÃ° notanda</button>
      
      <div class="user-list" id="userList">
        <div class="loading"><div class="loading-spinner"></div><p>SÃ¦ki notendur...</p></div>
      </div>
    </div>
    
    {# Tab: Nemendur #}
    <div class="tab-content" id="tab-nemendur">
      <div class="section-title">ğŸ“ NemendastjÃ³rnun</div>
      
      <div class="search-bar">
        <input type="text" class="form-input" id="studentSearch" placeholder="Leita aÃ° nemanda..." />
        <select id="studentCenterFilter">
          <option value="">Allar stÃ¶Ã°var</option>
          <option value="HAFNOFELO">FjÃ¶r HafnÃ³</option>
          <option value="STAPAFELO">FjÃ¶r Stapa</option>
          <option value="AKURFELO">FjÃ¶r Akur</option>
          <option value="HAALEITIFELO">FjÃ¶r HÃ¡aleiti</option>
        </select>
      </div>
      
      <div class="student-list" id="adminStudentList">
        <div class="loading"><div class="loading-spinner"></div><p>SÃ¦ki nemendur...</p></div>
      </div>
    </div>
    
    {# Tab: Stillingar #}
    <div class="tab-content" id="tab-stillingar">
      <div class="section-title">âš™ï¸ Kerfisstillingar</div>
      
      <div class="card">
        <h4 style="margin-bottom: 16px;">ğŸ—“ï¸ SkÃ³laÃ¡r</h4>
        <p style="color: var(--color-text-muted); margin-bottom: 16px;">NÃºverandi skÃ³laÃ¡r: September 2024 - MaÃ­ 2025</p>
        <button class="btn btn-secondary">Breyta skÃ³laÃ¡ri</button>
      </div>
      
      <div class="card">
        <h4 style="margin-bottom: 16px;">ğŸ”„ Ãrslokahreinsun</h4>
        <p style="color: var(--color-text-muted); margin-bottom: 16px;">Hreinsa gÃ¶mul gÃ¶gn og undirbÃºa nÃ½tt skÃ³laÃ¡r.</p>
        <button class="btn" style="background: #ef4444;">âš ï¸ Keyra Ã¡rslokahreinsun</button>
      </div>
    </div>
    
    {# Tab: Export #}
    <div class="tab-content" id="tab-export">
      <div class="section-title">ğŸ“¤ Export gÃ¶gn</div>
      
      <div class="card">
        <h4 style="margin-bottom: 16px;">ğŸ“Š Export fyrir PowerBI</h4>
        <p style="color: var(--color-text-muted); margin-bottom: 16px;">SÃ¦kja mÃ¦tingargÃ¶gn Ã¡ CSV formi fyrir PowerBI.</p>
        <button class="btn" style="background: #f97316;" onclick="exportForPowerBI()">SÃ¦kja CSV</button>
      </div>
      
      <div class="card">
        <h4 style="margin-bottom: 16px;">ğŸ“ Export nemendur</h4>
        <p style="color: var(--color-text-muted); margin-bottom: 16px;">SÃ¦kja lista yfir alla nemendur.</p>
        <button class="btn btn-secondary" onclick="exportStudents()">SÃ¦kja CSV</button>
      </div>
    </div>
  </div>
</div>

{% block extraJs %}
<script src="/js/components/tabs.js"></script>
<script src="/js/pages/admin/init.js"></script>
{% endblock %}
